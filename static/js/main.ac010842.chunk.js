(this["webpackJsonpwatorace-data-visualization"]=this["webpackJsonpwatorace-data-visualization"]||[]).push([[0],{32:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(0),r=n.n(i),a=n(12),o=n.n(a),s=(n(32),n(24)),l=n(25),d=n(11),u=n(7),j=(n(33),n.p+"static/media/logo.6ce24c58.svg"),h=(n(34),n(19)),b=n.n(h),f=n(20),O=(n(35),n(43)),p=n(44),g=n(48),v=n(45),x=n(47),m=n(46),w=n(21),y=n(23);var S=function(e){var t=e.list,n=e.height,r=Object(i.useState)(t),a=Object(u.a)(r,2),o=a[0],s=a[1],l=Object(i.useRef)(null);return Object(c.jsxs)("div",{children:[Object(c.jsx)(x.a,{placeholder:"Search",onChange:function(){var e,n=null===(e=l.current)||void 0===e?void 0:e.value;null!=n&&s(t.filter((function(e){return String(e).toLowerCase().includes(n.toLowerCase())})))},ref:l}),Object(c.jsx)(m.a,{style:{height:n},children:Object(c.jsx)(w.a,{children:function(e){var t=e.height,n=e.width;return Object(c.jsx)(y.a,{width:n,height:t,itemSize:50,itemCount:o.length,children:function(e){var t=e.index,n=e.style;return Object(c.jsx)(m.a.Item,{style:n,children:o[t]})}})}})})]})};var C=function(){var e,t,n,r=Object(i.useRef)(null),a=Object(i.useRef)(null),o=Object(i.useState)([]),h=Object(u.a)(o,2),x=h[0],m=h[1],w=Object(i.useState)([]),y=Object(u.a)(w,2),C=y[0],A=y[1],k=Object(i.useState)([{title:"Steering",height:300,cursor:{sync:{key:"moo"}},inputs:[{label:"time (s)",data:"0.TimeOfUpdate"},{label:"Steering Wheel Angle (rad)",stroke:"red",width:1,data:"0.SteeringWheelAngle"}]},{title:"Speed (in vehicle frame)",height:300,cursor:{sync:{key:"moo"}},inputs:[{label:"time (s)",data:"0.TimeOfUpdate"},{label:"cdgSpeed_x (m/s)",stroke:"blue",width:1,data:"0.cdgSpeed_x"},{label:"cdgSpeed_y (m/s)",stroke:"green",width:1,data:"0.cdgSpeed_y"}]}]),E=Object(u.a)(k,2),N=E[0],P=E[1],R=Object(i.useState)(-1),T=Object(u.a)(R,2),z=T[0],D=T[1];return Object(i.useEffect)((function(){if(0!==N.length){for(var e=[],t=function(t){for(var n=N[t],c=n.title,i=n.inputs,r=n.cursor,a=n.height,o=[],u=[],j=function(e){var t=i[e],n=t.data,c=t.width,r=Object(l.a)(t,["data","width"]),a=n.split("."),j=C[+a[0]];if(!j)return m((function(e){return[].concat(Object(d.a)(e),["Unable to access ".concat(n," because dataset ").concat(a[0]," is not available!")])})),"continue";o[e]=j.parsed.data.map((function(e){return+e[a[1]]})),u[e]=Object(s.a)({width:c?c/devicePixelRatio:void 0},r)},h=0;h<i.length;++h)j(h);var b={title:c,cursor:r,width:window.innerWidth,height:a,scales:{x:{time:!1}},series:u},O=document.getElementById("plot-".concat(t));if(!O)return m((function(e){return[].concat(Object(d.a)(e),["Plot container not found for plot-".concat(t)])})),{v:void 0};e.push(new f.a(b,o,O))},n=0;n<N.length;++n){var c=t(n);if("object"===typeof c)return c.v}return function(){e.forEach((function(e){return e.destroy()}))}}}),[C,N]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"Content",children:[Object(c.jsxs)(O.a,{children:[Object(c.jsx)("h1",{children:"WATORACE Data Visualizer"}),Object(c.jsxs)("p",{children:["This is pre-alpha software (",Object(c.jsx)("a",{href:"https://github.com/WATORACE/data-visualization",children:"Github repo"}),")."]}),Object(c.jsxs)("p",{children:["Select a ",Object(c.jsx)("code",{children:"vehicleOutput"}),' csv and click "Add Dataset" to view the current functionalities. You can safely ignore the initial errors due to dataset 0 being not available.']}),x.map((function(e,t){return Object(c.jsx)("p",{className:"error-message",children:e},t)})),Object(c.jsxs)("p",{children:[C.length," Dataset(s)"]}),Object(c.jsxs)(p.a,{bordered:!0,hover:!0,striped:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"#"}),Object(c.jsx)("th",{children:"Dataset Name"}),Object(c.jsx)("th",{children:"Action"})]})}),Object(c.jsx)("tbody",{children:C.map((function(e,t){var n;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"align-middle",children:t}),Object(c.jsx)("td",{className:"align-middle",children:null===(n=e.file)||void 0===n?void 0:n.name}),Object(c.jsx)("td",{children:Object(c.jsx)(g.a,{size:"sm",onClick:function(){return D(t)},children:"More Info"})})]})}))})]}),Object(c.jsx)("input",{type:"file",ref:r,multiple:!0}),Object(c.jsx)("button",{onClick:function(){var e;m([]);var t=null===(e=r.current)||void 0===e?void 0:e.files;if(t&&0!==t.length)for(var n=0;n<t.length;++n){var c=t[n];b.a.parse(c,{header:!0,skipEmptyLines:!0,error:function(e,t){m((function(n){return[].concat(Object(d.a)(n),['Error parsing "'.concat(null===t||void 0===t?void 0:t.name,'". Reason: ').concat(e.message,". Please see console for more details.")])})),console.error("Error Parsing ".concat(null===t||void 0===t?void 0:t.name,"! Error:"),e,"file:",t)},complete:function(e,t){e.errors.length?(m((function(e){return[].concat(Object(d.a)(e),['Parsing "'.concat(null===t||void 0===t?void 0:t.name,'" resulted in errors. Please see console for more details')])})),console.error("Parsing complete but contains errors:","file:",t,"results:",e)):console.log("Parsing complete!","file:",t,"results:",e),A((function(n){return[].concat(Object(d.a)(n),[{file:t,parsed:e}])}))}})}else m((function(e){return[].concat(Object(d.a)(e),["No files are selected."])}))},children:"Add Dataset"})]}),N.map((function(e,t){return Object(c.jsx)("div",{className:"plot",children:Object(c.jsx)("div",{id:"plot-".concat(t)})},t)})),Object(c.jsxs)(O.a,{children:[Object(c.jsx)("h2",{children:"Raw Configuration"}),Object(c.jsxs)("p",{children:["This ",Object(c.jsx)("code",{children:"<textarea/>"}),' contains the raw configuration that generates the graphs above. You can copy the text below and share with others. You can also apply new configurations by replacing the text below and clicking "Apply configuration".']}),Object(c.jsx)("textarea",{id:"raw-config",ref:a,children:JSON.stringify({visualizations:N},null,4)}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){var e,t=null===(e=a.current)||void 0===e?void 0:e.value;if(t)try{P(JSON.parse(t).visualizations)}catch(n){m((function(e){return[].concat(Object(d.a)(e),["Error applying config. Please see console for more info"])})),console.error("Error applying config:",n)}else m((function(e){return[].concat(Object(d.a)(e),["Invalid config!"])}))},children:"Apply Configuration"})]})]}),Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)("img",{src:j,className:"App-logo",alt:"logo"}),Object(c.jsx)("p",{children:"WATORACE Data Visualizer"}),Object(c.jsxs)("p",{children:["Edit ",Object(c.jsx)("code",{children:"src/App.tsx"})," and save to reload."]}),Object(c.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]}),Object(c.jsxs)(v.a,{show:z>=0,onHide:function(){return D(-1)},dialogClassName:"dataset-modal",children:[Object(c.jsx)(v.a.Header,{closeButton:!0,children:Object(c.jsx)(v.a.Title,{children:null===(e=C[z])||void 0===e||null===(t=e.file)||void 0===t?void 0:t.name})}),Object(c.jsxs)(v.a.Body,{children:["Fields:",Object(c.jsx)(S,{list:(null===(n=C[z])||void 0===n?void 0:n.parsed.meta.fields)||[],height:"60vh"})]}),Object(c.jsx)(v.a.Footer,{children:Object(c.jsx)(g.a,{variant:"secondary",onClick:function(){return D(-1)},children:"Close"})})]})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),A()}},[[41,1,2]]]);
//# sourceMappingURL=main.ac010842.chunk.js.map